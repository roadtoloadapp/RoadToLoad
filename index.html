<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>RoadToLoad ‚Äì T√©rk√©p</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://cdn.counter.dev/script.js" data-id="76b74c5e-2f75-462f-b591-08d048624b98" data-utcoffset="1"></script>


</head>

<body>
  <header>
    <h1>RoadToLoad</h1>

    <div class="hamburger" id="hamburger">
      <div></div><div></div><div></div>
    </div>

    <nav id="nav-menu">
      <a id="about-link">R√≥lunk</a>
      <a id="contact-link">Kapcsolat</a>
      <select id="language-select">
        <option value="hu">HU</option>
        <option value="en">EN</option>
      </select>
      <button id="generate" class="generate-btn">üé≤ T√∫ra gener√°l√°sa</button>
    </nav>
  </header>

  <div id="map"></div>
  <div id="bar-list"></div>

  <button id="mobile-generate" class="mobile-generate">üé≤ T√∫ra gener√°l√°sa</button>

  <footer>¬© RoadToLoad 2025</footer>

  <div id="about-overlay" class="overlay">
    <button class="close-btn" id="close-about">√ó</button>
    <p id="about-text">
      <b>A RoadToLoad</b> Budapest legizgalmasabb helyeit k√∂ti √∂ssze egyetlen √©lm√©nny√©.<br><br>
      Nem √∫tvonalat adunk, hanem t√∂rt√©neteket, amiket te √≠rsz meg ‚Äî egy kocsm√°t√≥l a m√°sikig.<br><br>
      T√∂ltsd √∫jra a v√°rost, fedezd fel a rejtett arc√°t, √©s indulj el a saj√°t utadon.
    </p>
  </div>

  <div id="contact-overlay" class="overlay">
    <button class="close-btn" id="close-contact">√ó</button>
    <form id="contact-form">
      <h2 id="contact-title">Kapcsolatfelv√©tel</h2>
      <h3 id="contact-email">hello@roadtoload.hu</h3>
      <input type="text" name="name" id="name" placeholder="N√©v" required>
      <input type="email" name="email" id="email" placeholder="E-mail c√≠m" required>
      <textarea name="message" id="message" placeholder="√úzenet..." required></textarea>
      <button type="submit" class="submit-btn" id="send-btn">K√ºld√©s</button>
    </form>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // T√©rk√©p
    const map = L.map('map').setView([47.4979, 19.0402], 13);
    L.tileLayer('https://basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { maxZoom: 19 }).addTo(map);

    const bars = [
      { name: "Mazel Tov", street: "Ak√°cfa utca 47.", coords: [47.497, 19.060] },
      { name: "Szimpla Kert", street: "Kazinczy utca 14.", coords: [47.49700901903984, 19.06332904316594] },
      { name: "Instant-Fogas", street: "Ak√°cfa utca 49‚Äì51.", coords: [47.4984, 19.0610] },
      { name: "Kis√ºzem", street: "Kis Di√≥fa utca 2.", coords: [47.4980, 19.0633] },
      { name: "Dzzs B√°r", street: "Doh√°ny utca 20.", coords: [47.4995, 19.0595] },
      { name: "Ell√°t√≥ Kert", street: "Kazinczy utca 48.", coords: [47.4992, 19.0641] },
      { name: "Trabant Pressz√≥", street: "Budapest, Kerepesi √∫t 104.", coords: [47.50431411432514, 19.142209458493806] },
      { name: "K√©t Bar√°t Pub √©s Darts Klub", street: "Budapest, R√°kosfalva park", coords: [47.50700546667734, 19.145757390690022] },
      { name: "Reining S√∂r√∂z≈ë", street: "Budapest, R√°kosfalva park 5.", coords: [47.5067096491249, 19.14542868449984] },
      { name: "S√∂rkert B√ºf√©", street: "Budapest, Kerepesi √∫t 82-88.", coords: [47.50377006386992, 19.138195067329463] },
      { name: "Z√∂ld Kancs√≥", street: "Budapest, √ñrs vez√©r tere 1.", coords: [47.503811256504186, 19.13516780607615] },
      { name: "Vez√©r Boroz√≥-S√∂r√∂z≈ë", street: "Budapest, Feh√©r √∫t 3.", coords: [47.50090108462331, 19.136124337768518] },
      { name: "F√©lid≈ë S√∂r√∂z≈ë", street: "Budapest, Kerepesi √∫t 24.", coords: [47.50046584356149, 19.108750373846462] },
      { name: "Stadion S√∂r√∂z≈ë", street: "Budapest, Th√∂k√∂ly √∫t 42.", coords: [47.503934941377764, 19.088502122411175] },
      { name: "Piros Hetes Pressz√≥", street: "Budapest, Baross t√©r 15.", coords: [47.50057791815891, 19.081287881077348] },
      { name: "Derby B√ºf√©", street: "Budapest, Baross t√©r 6.", coords: [47.49944231353655, 19.081298417300548] },
      { name: "Stifler 32 Bar", street: "Budapest, R√°k√≥czi √∫t 32.", coords: [47.49637813855068, 19.06717261293383] },
      { name: "Sark", street: "Budapest, Wessel√©nyi utca 25.", coords: [47.49812257497275, 19.064972445700594] },
      { name: "Sark2", street: "Budapest, Wessel√©nyi utca 21.", coords: [47.4980549491812, 19.064328967593877] },
      { name: "F√ºge Udvar", street: "Budapest, Klauz√°l u. 19.", coords: [47.498364427800865, 19.0664885621075] },
      { name: "Doboz Ruin Pub & Bar", street: "Budapest, Klauz√°l u. 10.", coords: [47.49799897927706, 19.06676042552224] },
      { name: "4es6os Wessel√©nyi", street: "Budapest, Erzs√©bet krt. 28.", coords: [47.50024874314327, 19.068671446071466] },
      { name: "Gozsdu Udvar", street: "Budapest, Gozsdu Udvar", coords: [47.498504933178864, 19.05947636463971] },
      { name: "L√°mp√°s", street: "Budapest, Dob u. 15.", coords: [47.497638341939414, 19.060821402800286] },
      { name: "R√°cskert", street: "Budapest, Dob u. 40.", coords: [47.49961164035983, 19.062549476001468] },
      { name: "Di√≥fa Piny√≥", street: "Budapest, Nagy Di√≥fa u. 29.", coords: [47.49867902371778, 19.064025410705913] },
      { name: "Instant-Fogas komplexum", street: "Budapest, Ak√°cfa u. 51.", coords: [47.50053078701567, 19.065282175509363] },
      { name: "SCORE! Sport Bar & Billiard", street: "Budapest, Dob u. 65.", coords: [47.50165996697666, 19.066968268184727] },
      { name: "Kripta S√∂r√∂z≈ë", street: "Budapest, Kert√©sz u. 31.", coords: [47.50113841618521, 19.066339064774183] },
      { name: "Rumpus Tiki Bar", street: "Budapest, Kir√°ly u. 19.", coords: [47.4996301571262, 19.059516039409825] },
      { name: "Fr√∂ccsterasz", street: "Budapest, Erzs√©bet t√©r 11-13.", coords: [47.49812932101141, 19.05358369904641] },
      { name: "Akv√°rium Klub", street: "Budapest, Erzs√©bet t√©r 12.", coords: [47.49859622081475, 19.054163150133963] },
      { name: "√ñtkert Club", street: "Budapest, Zr√≠nyi u. 4/A.", coords: [47.5004110277074, 19.04844520881007] },
      { name: "K√∂nyvt√°r Klub & Treffort Kert", street: "Budapest, M√∫zeum krt. 4.", coords: [47.494176087899675, 19.061978575057356] },
      { name: "Br√≥dy Italint√©zet", street: "Budapest, Br√≥dy S√°ndor u. 2.", coords: [47.491999603293316, 19.06173211500117] },
      { name: "Fecske Pressz√≥", street: "Budapest, Baross u. 10.", coords: [47.4896880789013, 19.064139323481278] },
      { name: "F≈ëfot√≥", street: "Budapest, Baross u. 10.", coords: [47.48964452111458, 19.064123965922626] },
      { name: "Andersen Pub", street: "Budapest, Kr√∫dy u. 19.", coords: [47.49041557223433, 19.070046329466315] },
      { name: "Kr√∫dy S√∂r√∂z≈ë", street: "Budapest, J√≥zsef krt. 47.", coords: [47.49040734125192, 19.07018648638851] },
      { name: "Turbina Kultur√°lis K√∂zpont", street: "Budapest, Vajdahunyad u. 4.", coords: [47.48893999374884, 19.073348795891004] },
      { name: "A Grund", street: "Budapest, Nagy Templom utca 30.", coords: [47.4850662874461, 19.076201833461553] },
      { name: "Grafika S√∂r√∂z≈ë", street: "Budapest, Bak√°ts u. 1-3.", coords: [47.48249444429279, 19.06497841603372] },
      { name: "A38 Haj√≥", street: "Budapest, Pet≈ëfi h√≠d", coords: [47.476716506752346, 19.062783026524865] },
      { name: "Scarabeus Music Caf√©", street: "Budapest, Etele t√©r 6.", coords: [47.465829374224974, 19.02221181441473] },
      { name: "Cafe Rio", street: "Budapest, Bart√≥k B√©la √∫t 130.", coords: [47.470571661245685, 19.028782073475178] },
      { name: "Pingvin Pub", street: "Budapest, Bocskai √∫t 33.", coords: [47.47614013451706, 19.038791458673483] },
      { name: "Rizmajer S√∂rh√°z M√≥ricz", street: "Budapest, M√≥ricz Zsigmond k√∂rt√©r 4.", coords: [47.478056907334754, 19.046617700734114] },
      { name: "Lakat S1 PUB", street: "Budapest, Siroki u. 1.", coords: [47.477061324809114, 19.048718200717822] },
      { name: "Szpot", street: "Budapest, Bart√≥k B√©la √∫t 11.", coords: [47.482053569182945, 19.052327069426813] },
      { name: "MITZI ‚Äì K√°v√©, Konyha, B√°r", street: "Budapest, Bart√≥k B√©la √∫t 1.", coords: [47.48300913061098, 19.052709330236876] },
      { name: "Libella", street: "Budapest, Budafoki √∫t 7.", coords: [47.482391600372516, 19.053727012854065] },
      { name: "Dugatty√∫s", street: "Budapest, Margit k√∂r√∫t 15-17.", coords: [47.51353615518157, 19.034943044195156] },
      { name: "Manyi ‚Äì Kultur√°lis M≈±hely", street: "Budapest, Margit k√∂r√∫t 16.", coords: [47.51388752593867, 19.035526795118052] },
      { name: "Ganz S√∂r√∂z≈ë", street: "Budapest, Ganz u. 6.", coords: [47.5110054779781, 19.037447796903468] },
      { name: "Cooltour Bar 3", street: "Budapest, L√∂v≈ëh√°z u. 18.", coords: [47.50976253819043, 19.02455209865654] },
      { name: "Tet√∏", street: "Budapest, L√∂v≈ëh√°z u. 2.", coords: [47.50880578403261, 19.02694003850253] }
    ];

    const barListDiv = document.getElementById('bar-list');
    function generateTour() {
      map.eachLayer(layer => { if (layer instanceof L.Marker || layer instanceof L.Polyline) map.removeLayer(layer); });
      const shuffled = bars.sort(() => 0.5 - Math.random()).slice(0, 4);
      let previous = null;
      let listHTML = `<h3>${currentLang === 'hu' ? 'Mai t√∫r√°d:' : 'Your tour:'}</h3>`;
      shuffled.forEach((bar, i) => {
        L.marker(bar.coords).addTo(map).bindPopup(`<b>${bar.name}</b><br>${bar.street}`);
        listHTML += `<b>${i + 1}. ${bar.name}</b><br><span style="font-size:0.85rem;">${bar.street}</span><br><br>`;
        if (previous) L.polyline([previous.coords, bar.coords], { color: '#fdd835', weight: 5 }).addTo(map);
        previous = bar;
      });
      barListDiv.innerHTML = listHTML;
      barListDiv.style.display = "block";
    }
    document.getElementById('generate').addEventListener('click', generateTour);
    document.getElementById('mobile-generate').addEventListener('click', generateTour);

    // Men√º √©s overlay
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('nav-menu');
    const aboutOverlay = document.getElementById('about-overlay');
    const contactOverlay = document.getElementById('contact-overlay');

    hamburger.addEventListener('click', () => navMenu.classList.toggle('show'));
    document.getElementById('about-link').addEventListener('click', () => aboutOverlay.style.display = 'flex');
    document.getElementById('contact-link').addEventListener('click', () => contactOverlay.style.display = 'flex');
    document.getElementById('close-about').addEventListener('click', () => aboutOverlay.style.display = 'none');
    document.getElementById('close-contact').addEventListener('click', () => contactOverlay.style.display = 'none');

    // Nyelvv√°lt√≥
    let currentLang = 'hu';
    const langSelect = document.getElementById('language-select');
    const texts = {
      hu: {
        about: "R√≥lunk", contact: "Kapcsolat", generate: "üé≤ T√∫ra gener√°l√°sa",
        aboutText: "<b>A RoadToLoad</b> Budapest legizgalmasabb helyeit k√∂ti √∂ssze egyetlen √©lm√©nny√©.<br><br>Nem √∫tvonalat adunk, hanem t√∂rt√©neteket, amiket te √≠rsz meg ‚Äî egy kocsm√°t√≥l a m√°sikig.<br><br>T√∂ltsd √∫jra a v√°rost, fedezd fel a rejtett arc√°t, √©s indulj el a saj√°t utadon.",
        contactTitle: "Kapcsolatfelv√©tel", name: "N√©v", email: "E-mail c√≠m", msg: "√úzenet...", send: "K√ºld√©s"
      },
      en: {
        about: "About", contact: "Contact", generate: "üé≤ Generate tour",
        aboutText: "<b>RoadToLoad</b> connects Budapest's most exciting places into one adventure.<br><br>We don‚Äôt just give you a route ‚Äî we give you stories you‚Äôll create, from one bar to the next.<br><br>Reload the city, discover its hidden face, and start your own journey.",
        contactTitle: "Contact us", name: "Name", email: "E-mail address", msg: "Message...", send: "Send"
      }
    };
    langSelect.addEventListener('change', (e) => {
      currentLang = e.target.value;
      const t = texts[currentLang];
      document.getElementById('about-link').textContent = t.about;
      document.getElementById('contact-link').textContent = t.contact;
      document.getElementById('generate').textContent = t.generate;
      document.getElementById('mobile-generate').textContent = t.generate;
      document.getElementById('about-text').innerHTML = t.aboutText;
      document.getElementById('contact-title').textContent = t.contactTitle;
      document.getElementById('name').placeholder = t.name;
      document.getElementById('email').placeholder = t.email;
      document.getElementById('message').placeholder = t.msg;
      document.getElementById('send-btn').textContent = t.send;
    });

    // Web3Forms k√ºld√©s
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('send-btn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      formData.append("access_key", "fefe9987-1d25-45f4-8f72-8d82ef6f152d");

      const originalText = submitBtn.textContent;
      submitBtn.textContent = currentLang === 'hu' ? "K√ºld√©s folyamatban..." : "Sending...";
      submitBtn.disabled = true;

      try {
        const response = await fetch("https://api.web3forms.com/submit", {
          method: "POST",
          body: formData
        });
        const data = await response.json();

        if (response.ok) {
          alert(currentLang === 'hu' ? "Siker! Az √ºzenetet elk√ºldt√ºk." : "Success! Your message has been sent.");
          form.reset();
          contactOverlay.style.display = 'none';
        } else {
          alert("Error: " + data.message);
        }
      } catch (error) {
        alert(currentLang === 'hu' ? "Hiba t√∂rt√©nt. Pr√≥b√°ld √∫jra k√©s≈ëbb." : "Something went wrong. Please try again.");
      } finally {
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
      }
    });
  </script>
</body>
</html>




